# Character Sheet XML Parser API –¥–ª—è Cyberpunk Red –≤ Tabletop Simulator

## –û–ø–∏—Å–∞–Ω–∏–µ
–°–µ—Ä–≤–µ—Ä–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è —Å–≤—è–∑–µ–π –º–µ–∂–¥—É –Ω–∞–≤—ã–∫–∞–º–∏ –∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏ –∏–∑ XML-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø–µ—Ä—Å–æ–Ω–∞–∂–∞ Cyberpunk Red –≤ Tabletop Simulator. –°–µ—Ä–≤–µ—Ä –ø–∞—Ä—Å–∏—Ç XML-—Å—Ç—Ä—É–∫—Ç—É—Ä—É UI, –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ–ª—è —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º (–Ω–∞–ø—Ä–∏–º–µ—Ä `{dex}`) –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON-–æ—Ç–≤–µ—Ç —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è–º–∏ –≤–∏–¥–∞ `"–Ω–∞–≤—ã–∫_—Å—Ç–∞—Ç": "—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞"`.

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- [Express.js](https://expressjs.com/) - –í–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ Node.js
- [body-parser](https://www.npmjs.com/package/body-parser) - –ü–∞—Ä—Å–µ—Ä —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- [fast-xml-parser](https://www.npmjs.com/package/fast-xml-parser) - XML-–ø–∞—Ä—Å–µ—Ä

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
.
‚îú‚îÄ‚îÄ server.js                # –°–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–æ–¥
‚îú‚îÄ‚îÄ Pasted_Text_1750793267841.txt  # XML-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (UI) Cyberpunk Red
‚îú‚îÄ‚îÄ Pasted_Text_1750793274565.txt  # Lua-—Å–∫—Ä–∏–ø—Ç —Å –ª–æ–≥–∏–∫–æ–π –∏–≥—Ä—ã
‚îî‚îÄ‚îÄ README.md                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
npm install express body-parser fast-xml-parser
```

## –ó–∞–ø—É—Å–∫
```bash
node server.js
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: http://–í–∞—à_–∞–¥—Ä–µ—Å:3000/api/parse

## API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### POST /api/parse
**–û–ø–∏—Å–∞–Ω–∏–µ:** –ü–∞—Ä—Å–∏—Ç XML –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–≤—è–∑–∏ –Ω–∞–≤—ã–∫–æ–≤ —Å —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º–∏

**–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞:**
```json
{
  "xml": "<Panel>...</Panel>"
}
```

## –§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö

### XML (Pasted_Text_1750793267841.txt)
–§–∞–π–ª—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –æ–ø–∏—Å–∞–Ω–∏–µ UI-—ç–ª–µ–º–µ–Ω—Ç–æ–≤:
- **–°—á–µ—Ç—á–∏–∫–∏ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫** —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ ID (`int_counter`, `dex_counter`)
- **–ü–æ–ª—è –Ω–∞–≤—ã–∫–æ–≤** —Å –ø—Ä–∏–≤—è–∑–∫–æ–π –∫ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º —á–µ—Ä–µ–∑ `{—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞}`:
```xml
<InputField id="melee_stat" text="{dex}" />
<InputField id="language_stat" text="{int}" />
```

### Lua (Pasted_Text_1750793274565.txt)
–°–æ–¥–µ—Ä–∂–∏—Ç –ª–æ–≥–∏–∫—É:
- **–¶–≤–µ—Ç–æ–≤—ã–µ –∫–æ–¥—ã —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫** (hex)
- **–ú–∞–ø–ø–∏–Ω–≥ ID —ç–ª–µ–º–µ–Ω—Ç–æ–≤** –∫ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞–º
- **–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π** –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—á–µ—Ç—á–∏–∫–æ–≤
- **–°–∏—Å—Ç–µ–º–∞ –±—Ä–æ—Å–∫–æ–≤ –∫—É–±–∏–∫–æ–≤** —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ —É—Å–ø–µ—Ö–∞–º–∏/–ø—Ä–æ–≤–∞–ª–∞–º–∏

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –°–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç XML-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ—Ç Tabletop Simulator
2. –ù–∞—Ö–æ–¥–∏—Ç –≤—Å–µ `InputField` —Å –∞—Ç—Ä–∏–±—É—Ç–æ–º `id` –∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º –≤–∏–¥–∞ `{—Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞}` –∫ –ø—Ä–∏–º–µ—Ä—É: –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –ø–µ—Ä—Å–µ—Ä–æ–º <InputField id="language_1_stat" fontSize="12" text="{int}" readOnly="true" /> –±—É–¥–µ—Ç —Å–≤—è–∑–∫–∞ "language_1":"int"
3. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç JSON —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è–º–∏ ID -> —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞
4. Lua-—Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è:
   - –†–∞—Å–∫—Ä–∞—Å–∫–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø–æ —Ü–≤–µ—Ç–∞–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫
   - –°–≤—è–∑–∏ –Ω–∞–≤—ã–∫–æ–≤ —Å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º–∏ —Å—á–µ—Ç—á–∏–∫–∞–º–∏
   - –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±—Ä–æ—Å–∫–æ–≤ –∫—É–±–∏–∫–æ–≤ —Å —É—á–µ—Ç–æ–º –º–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤


## –õ–∏—Ü–µ–Ω–∑–∏—è
MIT License

## –ê–≤—Ç–æ—Ä
[MehanikTM_YT] ‚Äî —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ Cyberpunk Red –¥–ª—è Tabletop Simulator

---

## ‚öôÔ∏è –î–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
–°–µ—Ä–≤–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥ XML-–¥–µ—Ä–µ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤—Å–µ—Ö `InputField` —Å —à–∞–±–ª–æ–Ω–æ–º:
```javascript
if (value['@_id'] && value['@_id'].endsWith('_stat') && value['@_text']) {
    const match = value['@_text'].match(/\{([^}]*)\}/);
}
```

Lua-—Å–∫—Ä–∏–ø—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –º–∞–ø–ø–∏–Ω–≥–∏:
```lua
COUNTER_STAT_MAP = {
    int_counter = "int",
    dex_counter = "dex"
}
```

## üìå –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js 18+
- Tabletop Simulator (–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å XML/Lua —Ñ–∞–π–ª–∞–º–∏)
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã `fast-xml-parser` 

---

–≠—Ç–æ—Ç –ø–∞—Ä—Å–µ—Ä –ø–æ–∑–≤–æ–ª—è–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–≤—è–∑—å –º–µ–∂–¥—É –≤–∏–∑—É–∞–ª—å–Ω—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∏ –∏–≥—Ä–æ–≤–æ–π –ª–æ–≥–∏–∫–æ–π, —É–ø—Ä–æ—â–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–ª–æ–∂–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π –≤ Cyberpunk Red.